<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Suggest Outfit</title>
</head>
<body>
{% extends 'base.html' %}

{% block content %}

    <div class="bg-shape bg-shape1"></div>
    <div class="bg-shape bg-shape2"></div>
    <div class="bg-shape bg-shape3"></div>

<div class="container mt-4">
    <h2 style="margin-bottom:5px; font-weight:700; letter-spacing:.2px;">Suggested Outfits</h2>

    <form method="get" class="mb-3">
        <div class="input-group">
            <input type="text" class="form-control" name="q" placeholder="e.g. elegant outfit for party" value="{{ request.GET.q }}">
            <button class="btn btn-accent" type="submit">Suggest</button>
        </div>
    </form>

    <div class="mb-3">
        <a href="{% url 'wardrobe' %}" class="btn btn-outline-primary">Back to Wardrobe</a>
    </div>

    {% if outfit_combos %}
        {% for score, combo in outfit_combos %}
            <div class="card mb-3">
                <div class="card-header">Score: {{ score|floatformat:2 }}</div>
                <div class="card-body">
                    <div class="row">
                        {% for item in combo %}
                        <div class="col-md-2 text-center">
                            <img src="{{ item.image.url }}" class="img-fluid rounded">
                            <p class="mt-2 small"><strong>{{ item.fine_category|default:"â€”" }}</strong></p>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        {% endfor %}
    {% else %}
        <p>No outfits matched your query.</p>
    {% endif %}
</div>
    <style>
        body {
            background: linear-gradient(140deg, #FFF4E6 30%, #FFEADC 20%, #FFF8F0 60%);
            position: relative;
            overflow-x: hidden;
            height: 100%;
        }

        .bg-shape {
          position: fixed;
          border-radius: 50%;
          filter: blur(100px);
          opacity: 0.4;
          z-index: 0;
          pointer-events: none;
        }

        .bg-shape1 {
            width: 350px; height: 350px;
            background: #FFD6A5;
            top: -120px; left: -100px;
        }

        .bg-shape2 {
            width: 300px; height: 300px;
            background: #FFB5A7;
            bottom: -150px; right: -100px;
        }

        .bg-shape3 {
            width: 250px; height: 250px;
            background: #FCD5CE;
            top: 40%;
            left: 60%;
        }

        .container {
            position: relative;
            z-index: 1;
        }
        main{
            flex: 1;
        }

        @media (max-width: 768px){
          .container.mt-4{ padding-left:12px; padding-right:12px; }
          .input-group .form-control{ font-size:1rem; }
          .btn.btn-accent{ padding:10px 14px; }
          .card{ border-radius:14px; }
          .card .row{ row-gap:12px; }
          .card .col-md-2{ flex:0 0 50%; max-width:50%; }
          .card img.img-fluid{ width:100%; height:200px; object-fit:cover; }
          .bg-shape{ display:none; }
        }

        @media (max-width: 360px){
          .card .col-md-2{ flex:0 0 100%; max-width:100%; }
          .card img.img-fluid{ height:180px; }
        }


    </style>
{% endblock %}


</body>
</html>